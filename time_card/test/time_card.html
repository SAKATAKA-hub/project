<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>タイムカード</title>
  <link rel="stylesheet" href="../common/css/time_card.css">
</head>
<body>
  <main id="timeCord"><!--attendanceManager-->
    <h2>出退勤入力</h2>

    <!--現在時刻の表示領域-->
    <div id="showTime">
      <div id="nowDay"></div>
      <div id="nowTime"></div>
    </div>    

    <!--ユーザー情報-->
    <div id ="" class="userInfo inBreak">
    <!-- <div id ="" class="userInfo outWork"> -->
      <div class="top">
        <p id="userImg"></p>
        <p id="userId">!employee_id!</p>
        <p id="userName">!employee_name!</p>  
      </div>
      <div class="bottom">
        <p class="workState">!work_state_text!</p>
      </div>
    </div>

    <!--出退勤入力ボタン-->
    <div id ="selectMord">
      <!--①出勤ボタン-->
      <form action="#" method="post">
        <input type="hidden" name="id" value="">
        <input type="hidden" name="name" value="">
        <input type="hidden" name="mode" value="inWork">
        <button type="submit" class="display">出勤</button>
      </form>
      <!--②休憩ボタン-->
      <form action="#" method="post">
        <input type="hidden" name="id" value="">
        <input type="hidden" name="name" value="">
        <input type="hidden" name="mode" value="break">
        <button type="submit" class="">休憩</button>
      </form>     
      <!--③退勤ボタン-->
      <form action="#" method="post">
        <input type="hidden" name="id" value="">
        <input type="hidden" name="name" value="">
        <input type="hidden" name="mode" value="outWork">
        <button type="submit" class="">退勤</button>
      </form>
    </div>

    <button class="btn_flat" type="button" onclick="location.href='!login!'">ログイン画面に戻る</button>

  </main>
  <script>
    'use strict';
    {
      function showTime(){
        const now = new Date();
        const nowYear = now.getFullYear();
        const nowMonth = String(now.getMonth()+1).padStart(2,'0');
        const nowDate = String(now.getDate()).padStart(2,'0');
        const nowHour = String(now.getHours()).padStart(2,'0');
        const nowMin = String(now.getMinutes()).padStart(2,'0');
        const nowSec = String(now.getSeconds()).padStart(2,'0');
        const dayNum = String(now.getUTCDay());

        const DayArry =["(日)","(月)","(火)","(水)","(木)","(金)","(土)"];

        let ampm = "";
        if(nowHour<12){ampm = "AM";}
        else{ampm = "PM";}
  
        const outputDay = `${nowYear}年${nowMonth}月${nowDate}日${DayArry[dayNum]}`;
        const outputTime = `${ampm} ${nowHour % 12}:${nowMin}:${nowSec}`;
  
        document.getElementById('nowDay').textContent = outputDay;
        document.getElementById('nowTime').textContent = outputTime;
        refresh();
      }
      function refresh(){setTimeout(showTime,1000);}
  
      showTime();

    }
  </script>  
</body>
